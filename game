import wollok.game.*
import obj.*

const heroe = new Heroe()
const Oleada = new Oleadas()


program juego {
    game.width(20)
    game.height(12)
    game.boardGround("pj.jpg")
    
    game.title("dungeon :V")
    Oleada.crear_enemigos()
    Oleada.cant_enemigos().forEach{n => game.addVisual(n)}
    game.addVisualCharacter(heroe)
    
    
    game.onCollideDo(heroe, { elemento => 
        game.say(heroe, "Hola!")
    })
    
    game.onCollideDo(heroe, { elemento => 
        game.say(heroe, "Hola!")
    })
    keyboard.h().onPressDo{heroe.aumentar_estamina(); game.say(heroe, "estamina " + heroe.estamina())}
    keyboard.g().onPressDo{ game.say(heroe, "I'm Wolloktastic")}
    keyboard.j().onPressDo{Oleada.cant_enemigos().forEach{n => n.seguir(heroe)}}
    game.onTick(1000, 'seguirlos',{=> Oleada.cant_enemigos().forEach{n => n.seguir(heroe)}})
    game.start()
}
